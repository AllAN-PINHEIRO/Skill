<div class="animate-fade-in">
    
    <button class="btn btn-link text-muted text-decoration-none mb-3 ps-0" data-route="perfil">
        <i class="bi bi-arrow-left"></i> Voltar para Perfil
    </button>

    <div class="profile-dashboard-grid">
        <div class="left-content">
            
            <div class="mb-5">
                <div class="content-section-header">
                    <span class="content-section-title"><i class="bi bi-emoji-smile"></i> Sobre Mim</span>
                </div>
                <div class="modern-card p-4 border-0 bg-white">
                    <p class="text-secondary mb-0">
                        {{ dados.perfil.resumo|default:"Sem resumo cadastrado."|linebreaksbr }}
                    </p>
                </div>
            </div>

            <div class="mb-5">
                <div class="content-section-header justify-content-between">
                    <span class="content-section-title"><i class="bi bi-code-slash"></i> Principais Habilidades</span>
                    
                    {% if destaques|length < 4 %}
                    <button class="btn btn-sm btn-outline-success" onclick="abrirModalDestaque()">
                        <i class="bi bi-plus-lg"></i> Adicionar
                    </button>
                    {% endif %}
                </div>
                
                <div class="skills-highlight-grid">
                    {% for item in destaques %}
                        <div class="skill-highlight-card cursor-pointer {% if item.cor == 'green' %}card-green{% else %}card-gray{% endif %}"
                             onclick="abrirModalDestaque('{{ item.id }}', '{{ item.titulo }}', '{{ item.descricao }}', '{{ item.cor }}')">
                            
                            <div class="d-flex justify-content-between">
                                <div class="skill-icon-box"><i class="bi bi-code-square"></i></div>
                                <i class="bi bi-pencil-fill opacity-50 small"></i> </div>
                            
                            <h6 class="skill-highlight-title">{{ item.titulo }}</h6>
                            <p class="skill-highlight-desc">{{ item.descricao }}</p>
                        </div>
                    {% empty %}
                        <div class="text-muted text-center w-100 py-4 border rounded bg-white">
                            Nenhuma habilidade em destaque. Clique em "Adicionar".
                        </div>
                    {% endfor %}
                </div>
            </div>

            </div> <div class="right-sidebar">
             <div class="profile-sidebar-card">
                 </div>
        </div>

    </div>
</div>

<div class="modal fade" id="modalDestaque" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content border-0 shadow-lg">
      <div class="modal-header border-0">
        <h5 class="modal-title fw-bold">Gerenciar Habilidade</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form id="form-destaque">
            <input type="hidden" id="destaque_id"> <div class="mb-3">
                <label class="form-label small fw-bold text-muted">TÍTULO (Ex: Docker, Java)</label>
                <input type="text" id="destaque_titulo" class="form-control" required maxlength="50">
            </div>
            
            <div class="mb-3">
                <label class="form-label small fw-bold text-muted">DESCRIÇÃO CURTA</label>
                <textarea id="destaque_descricao" class="form-control" rows="3" required maxlength="150"></textarea>
            </div>
            
            <div class="mb-4">
                <label class="form-label small fw-bold text-muted">COR DO CARD</label>
                <div class="d-flex gap-2">
                    <input type="radio" class="btn-check" name="destaque_cor" id="cor_gray" value="gray" checked>
                    <label class="btn btn-outline-secondary w-50" for="cor_gray">Cinza (Padrão)</label>

                    <input type="radio" class="btn-check" name="destaque_cor" id="cor_green" value="green">
                    <label class="btn btn-outline-success w-50" for="cor_green">Verde (Destaque)</label>
                </div>
            </div>

            <div class="d-flex gap-2">
                <button type="button" class="btn btn-danger me-auto" id="btn-excluir-destaque" style="display:none;">
                    <i class="bi bi-trash"></i> Excluir
                </button>
                <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancelar</button>
                <button type="submit" class="btn btn-dark px-4">Salvar</button>
            </div>
        </form>
      </div>
    </div>
  </div>
</div>